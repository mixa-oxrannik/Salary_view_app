# Описание проекта

Этот проект представляет собой API на основе FastAPI для получения информации о заработной плате сотрудников.

## Запуск сервиса

1. Установите `Python 3.7` или выше.

2. Установите зависимости из `requirements.txt`.

```
pip install -r requirements.txt
```

3. Запустите сервер.


Для запуска проекта выполните команду:

```
uvicorn main:app --reload
```

После запуска проект будет доступен по адресу `http://localhost:8000/docs`.


## Взаимодействие с сервисом

После запуска приложения вы сможете обратиться к двум эндпоинтам.

### `/get_token` (POST)

Данный метод принимает запрос вида `HTTP Basic Auth` (логин и пароль пользователя), 
проверяет их и если они верны, генерирует и возвращает токен для дальнейших запросов.

Возвращаемое значение:

```
{
    "access_token": "your_encoded_token"
}
```

### `/salary` (POST)

Данный метод принимает токен, логин и пароль для аутентификации и возвращает зарплату и дату следующего повышения пользователя, 
указанного в токене.



Возвращаемое значение:

```
{
    "salary": 50000,
    "next_raise": "2024-01-01"
}
```

Если токен неверен, просрочен или не был передан, вернется ошибка в следующем формате:

```
{
    "detail": "Error message"
}
```

## Тестирование
В проекте реализовано тестирование основных рабочих методов проекта

Для запуска тестов запустите сервис с помощью команды:
```
uvicorn main:app --reload
```
Далее выполните команду:
```
pytest
```
